<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HemOncExt package • HemOncExt</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="HemOncExt package">
<meta property="og:description" content="This package creates and maintains Oncology treatment concepts in the HemOnc ontology.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">HemOncExt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="hemoncext" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#hemoncext" class="anchor"></a>hemOncExt</h1></div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<ul>
<li>This package creates NEW oncology drug concepts with the appropriate OMOP relationship with any of the HemOnc, RxNorm Ingredient Concept Class, and/or RxNorm Extension Precise Ingredient Concept Class.</li>
</ul>
</div>
<div id="requirements" class="section level2">
<h2 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h2>
<ol>
<li>Postgres database that has a schema with Athena vocabulary tables to migrate the HemOnc and RxNorm vocabularies to the extension and will also be the location of the <code>hemonc_extension</code> schema.</li>
</ol>
</div>
<div id="initial-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#initial-setup" class="anchor"></a>Initial Setup</h2>
<ol>
<li><p>Create a HemOnc Extension Schema in a database and instantiate the OMOP Vocabulary Tables <code>createHemOncExtSchema.R</code></p></li>
<li><p>Instantiate OMOP Vocabulary Tables <code>ddlHemOncExtSchema.R</code></p></li>
<li><p>Migrate HemOnc Concepts and RxNorm/RxNorm Ingredients and Precise Ingredients to the new HemOnc Extension Schema to create new relationships: <code>hemOncExt::createHemOncExtSchema(conn = conn)      hemOncExt::ddlHemOncExtSchema(conn = conn)      hemOncExt::migrateConcept(conn = conn,                                source_schema = "public")      hemOncExt::migrateConceptAncestor(conn = conn,                                        source_schema = "public")      hemOncExt::migrateConceptRelationship(conn = conn,                                            source_schema = "public")      hemOncExt::migrateConceptSynonym(conn = conn,                                       source_schema = "public")</code></p></li>
<li><p>Apply constraints <code><a href="reference/constrainHemOncExtSchema.html">constrainHemOncExtSchema(conn = conn)</a></code> is skipped because these tables are staging tables.</p></li>
<li><p>Recommended Maintenance: every time an update is done to the HemOnc or RxNorm vocabulary the schema should be dropped and refreshed with the updated set.</p></li>
</ol>
</div>
<div id="creating-a-new-concept" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-new-concept" class="anchor"></a>Creating a NEW Concept</h2>
<p>*NEW Concepts should occur in batches. The in-house concept_id is generated using the getIdentifier function, and is the timestamp in the format “YYYYmmddhhmmss”, with the “202” in the year 2020 removed to be “Ymmddhhmmss”. When converted to integer in the year 2020, timestamps from single digit months (Jan to September) will result in the loss of 2 leading zeros and 1 leading zero in all other cases. For the next decade, this identifier should be unique as long as a identifier assignment has not occurred at overlapping times. The best approach would be to make a single identifier as an anchor and subtracting by 1 incrementally for each NEW Concept. This is advantagous over adding incrementally because it could technically cause collisions should we have 10000 NEW concepts and the concept_ids may overlap with those that are made for another project immediately thereafter.</p>
<div id="steps" class="section level3">
<h3 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps</h3>
<div id="requirements-dataframe-with-a-single-unique-identifier-new-regimen-any-new-component-and-ingredient-rxnorm-column-representing-the-regimen-component-ingredient-axis-in-the-hemonc-ontology-the-contents-will-be-in-label-format-concept_idnew-concept_name" class="section level4">
<h4 class="hasAnchor">
<a href="#requirements-dataframe-with-a-single-unique-identifier-new-regimen-any-new-component-and-ingredient-rxnorm-column-representing-the-regimen-component-ingredient-axis-in-the-hemonc-ontology-the-contents-will-be-in-label-format-concept_idnew-concept_name" class="anchor"></a>Requirements: dataframe with a single unique identifier, NEW Regimen, any NEW Component, and Ingredient (RxNorm) column representing the Regimen-Component-Ingredient Axis in the HemOnc ontology. The contents will be in Label format “{concept_id|NEW} {concept_name}”.</h4>
<ol>
<li>Quality Rules: 1 Regimen per row, At least 1 Component per Regimen, Each Component has exactly 1 RxNorm Ingredient or RxNorm Precise Ingredient.</li>
</ol>
<p>4, Enumerate all NEW concepts with this batch into a single dataframe</p>
<ol>
<li>Populate NEW Concepts by concept_class_id</li>
<li>Tables to downloadable data package</li>
</ol>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>Apache License 2.0</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Meera Y. Patel <br><small class="roles"> Maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Meera Y. Patel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
